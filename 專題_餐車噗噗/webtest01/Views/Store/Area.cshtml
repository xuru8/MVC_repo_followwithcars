
@{
    ViewBag.Title = "Area";
    int test = 0;
    if (Session["Store"] != null)
    {
        Layout = "~/Views/Shared/_LayoutStore.cshtml";
    }
    else if (Session["Customer"] != null)
    {
        test = Convert.ToInt32(Session["Customer"]);
        Layout = "~/Views/Shared/_LayoutCustomer.cshtml";
    }
    else
    {
        test = 0;
        Layout = "~/Views/Shared/_Layout.cshtml";
    };
}

@section css{
    <style>
        .btn-59,
        .btn-59 *,
        .btn-59 :after,
        .btn-59 :before,
        .btn-59:after,
        .btn-59:before {
            border: 0 solid;
            box-sizing: border-box;
        }

        .btn-59 {
            -webkit-tap-highlight-color: transparent;
            -webkit-appearance: button;
            background-color: #000;
            background-image: none;
            color: #fff;
            cursor: pointer;
            font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Arial, Noto Sans, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji;
            font-size: 100%;
            line-height: 1.5;
            margin: 0;
            -webkit-mask-image: -webkit-radial-gradient(#000, #fff);
            padding: 0;
        }

            .btn-59:disabled {
                cursor: default;
            }

            .btn-59:-moz-focusring {
                outline: auto;
            }

            .btn-59 svg {
                display: block;
                vertical-align: middle;
            }

            .btn-59 [hidden] {
                display: none;
            }

        .btn-59 {
            background: none;
            box-sizing: border-box;
            color: #000;
            display: block;
            font-weight: 900;
            -webkit-mask-image: none;
            padding: 1.5rem 4rem;
            position: relative;
            text-transform: uppercase;
        }

            .btn-59 span {
                background: #fff;
                border: 1px solid;
                border-radius: 999px;
                display: grid;
                inset: 0;
                place-items: center;
                pointer-events: none;
                position: absolute;
            }

            .btn-59:hover span {
                -webkit-animation: tada 0.8s;
                animation: tada 0.8s;
            }

        .px-3 {
            padding-right: 0.5rem !important;
            padding-left: 0.5rem !important;
        }
    </style>

}



<div class="container-xxl bg-white p-0">
    <!-- Spinner Start -->
    @*<div id="spinner"
             class="show bg-white position-fixed translate-middle w-100 vh-100 top-50 start-50 d-flex align-items-center justify-content-center">
            <div class="spinner-border text-primary" style="width: 3rem; height: 3rem;" role="status">
                <span class="sr-only">Loading...</span>
            </div>
        </div>*@
    <!-- Spinner End -->
    <!-- Search Start -->
    <div class="container-fluid bg-primary mb-5 wow fadeIn" data-wow-delay="0.1s" style="padding: 35px; margin-top: 50px;">
        <div class="container">
            <div class="row g-2">
                <div class="col-md-10">
                    <div class="row g-2">
                        <div class="col-md-3">
                            <div class="form-outline flex-fill mb-md-0">
                                <input type="date" id="fdate" class="form-control" style="height: 56px;" />
                            </div>
                        </div>
                        <div class="col-md-2">
                            <select class="form-select border-0 py-3" id="ftime">
                                <option value="">營業時間</option>
                                <option value="06:00-12:00">06:00-12:00</option>
                                <option value="12:00-18:00">12:00-18:00</option>
                                <option value="18:00-24:00">18:00-24:00</option>
                            </select>
                        </div>
                        <div class="col-md-2">
                            <select class="form-select border-0 py-3" id="fclass">
                                <option value="">食物類別</option>
                                <option value="台式">台式</option>
                                <option value="西式">西式</option>
                                <option value="日式">日式</option>
                                <option value="美式">美式</option>
                                <option value="韓式">韓式</option>
                                <option value="港式">港式</option>
                                <option value="早午餐">早午餐</option>
                                <option value="鍋物">鍋物</option>
                                <option value="炸物">炸物</option>
                                <option value="飲料">飲料</option>
                                <option value="甜點">甜點</option>
                                <option value="咖啡">咖啡</option>
                            </select>
                        </div>
                        <div class="col-md-2">
                            <select class="form-select border-0 py-3" id="fcity">
                                <option value="">地點</option>
                                <option value="基隆市">基隆市</option>
                                <option value="臺北市">臺北市</option>
                                <option value="新北市">新北市</option>
                                <option value="宜蘭縣">宜蘭縣</option>
                                <option value="新竹市">新竹市</option>
                                <option value="新竹縣">新竹縣</option>
                                <option value="桃園市">桃園市</option>
                                <option value="苗栗縣">苗栗縣</option>
                                <option value="臺中市">臺中市</option>
                                <option value="彰化縣">彰化縣</option>
                                <option value="南投縣">南投縣</option>
                                <option value="嘉義市">嘉義市</option>
                                <option value="嘉義縣">嘉義縣</option>
                                <option value="雲林縣">雲林縣</option>
                                <option value="臺南市">臺南市</option>
                                <option value="高雄市">高雄市</option>
                                <option value="屏東縣">屏東縣</option>
                                <option value="臺東縣">臺東縣</option>
                                <option value="花蓮縣">花蓮縣</option>
                                <option value="金門縣">金門縣</option>
                                <option value="連江縣">連江縣</option>
                                <option value="澎湖縣">澎湖縣</option>
                            </select>
                        </div>
                        <div class="col-md-3">
                            <input type="text" class="form-control border-0 py-3" placeholder="店名" id="fname">
                        </div>
                    </div>
                </div>
                <div class="col-md-2">
                    <button class="btn btn-dark border-0 w-50 py-3" id="btnsearch">搜尋</button>
                </div>
            </div>
        </div>
    </div>
    <!-- Search End -->
    <!-- Category Start -->
    <div class="container-xxl py-5">
        <div class="container">
            <div class="text-center mx-auto mb-5 wow fadeInUp" data-wow-delay="0.1s" style="max-width: 850px;">
                <h1 class="mb-3">熱搜排行榜</h1>
                <br>
                <div class="col-lg-12" style="width:850px;">
                    <button class="btn-59" style="display:inline;" onclick="getData台式()"><span>台式</span></button>
                    <button class="btn-59" style="display:inline;" onclick="getData港式()"><span>港式</span></button>
                    <button class="btn-59" style="display:inline;" onclick="getData西式()"><span>西式</span></button>
                    <button class="btn-59" style="display:inline;" onclick="getData日式()"><span>日式</span></button>
                    <button class="btn-59" style="display:inline;" onclick="getData韓式()"><span>韓式</span></button>
                    <button class="btn-59" style="display:inline;" onclick="getData美式()"><span>美式</span></button>
                </div>
                <br>
                <div class="col-lg-12" style="width:850px;">
                    <button class="btn-59" style="display:inline;" onclick="getData早午餐()"><span>早午餐</span></button>
                    <button class="btn-59" style="display:inline;" onclick="getData鍋物()"><span>鍋物</span></button>
                    <button class="btn-59" style="display:inline;" onclick="getData炸物()"><span>炸物</span></button>
                    <button class="btn-59" style="display:inline;" onclick="getData咖啡()"><span>咖啡</span></button>
                    <button class="btn-59" style="display:inline;" onclick="getData飲料()"><span>飲料</span></button>
                    <button class="btn-59" style="display:inline;" onclick="getData甜點()"><span>甜點</span></button>
                </div>
                <br>
                <div class="container-xxl py-5">
                    <div class="container">
                        <div class="tab-content">
                            <div id="tab-1" class="tab-pane fade show p-0 active">
                                <div class="row g-4" id="result">



                                </div>
                                @*<div class="col-12 text-center" style="margin-top:40px;">
                                        <button class="btn btn-primary py-3 px-5" onclick="">查看更多餐車</button>
                                    </div>*@
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<script>
    document.getElementById('btnsearch').addEventListener('click', fnSearch);

    window.onload = function () {
        var storeobj;
        var storeobjarr = [];
        document.getElementById("result").innerHTML = "";

        for (let i = 0; i < localStorage.length; i++) {

            storeobj = localStorage.getItem(`${i}`).split('!##%');
            /*console.log(storeobj);*/

            sID = storeobj[0].replace('"', '');
            /*console.log(sssID);*/

            storeName = storeobj[1].replace('"', '');

            storeClass = storeobj[2].replace('"', '');

            Picture = storeobj[3].replace('"', '');

            storeArea = storeobj[4].replace('"', '');

            storeAddress = storeobj[5].replace('"', '');

            storeStarrate = storeobj[6].replace('"', '');

            storeCommentCount = storeobj[7].replace('"', '');

            storePunchTime = storeobj[8].replace('"', '');

            storePhone = storeobj[9].replace('"', '');

            storeIntroduce = storeobj[10].replace('"', '');

            storeCity = storeobj[11].replace('"', '');

            document.getElementById("result").innerHTML += `<div class="col-lg-4 col-md-6 wow fadeInUp" data-wow-delay="0.1s">
                            <div class="property-item rounded overflow-hidden">
                                <div class="position-relative overflow-hidden">
                                    <a href="/Store/ShowStore?id=${sID}"><img class="img-fluid" src="${Picture}" alt="" style="width:400px;height:200px;"></a>
                                    <div class="bg-primary rounded text-white position-absolute start-0 top-0 m-4 py-1 px-3">${storeCity}</div>
                                    <div class="bg-secondary rounded text-white position-absolute top-0 m-4 py-1 px-3" style="left:60%">${storeStarrate}<i class="fas fa-star fa-1x text-white"></i></div>
                                    <div class="round ed-top position-absolute start-0 bottom-0 mx-4 pt-1 px-3" style="background-color:coral; border-radius:15px; color:#FFF;">${storeClass}</div>
                                </div>
                                <div class="p-4 pb-0">
                                    <a class="d-block h5 mb-2" href="/Store/ShowStore?id=${sID}">${storeName}</a>
                                    <p><img src="/Content/imgs/icon/locationmark.png" style="margin-right:6px; margin-bottom:4px;">${storeAddress}</p>
                                </div>
                                <div class="d-flex border-top">
                                    <small class="flex-fill text-center border-end py-2" style="cursor:pointer;" onclick="AddLove(${sID})"><img src="/Content/imgs/icon/heart.png" style="margin-right:10px; margin-bottom:4px;">加入我的最愛</small>
                                </div>
                            </div>
                        </div>`
        }
/*        localStorage.clear();*/
    }

    function fnSearch() {
        // e.preventDefault();
        // let search = document.getElementById('btnsearch');

        localStorage.clear();

        fetch(('http://localhost:44368/api/StoreSearch'), {
            method: 'POST',
            headers: {
                'Accept': 'application/json; charset=utf-8',
                'Content-Type': 'application/json; charset=utf-8'
            },
            body: JSON.stringify(
                {
                    "fname": document.getElementById('fname').value,
                    "fclass": document.getElementById('fclass').value,
                    "fcity": document.getElementById('fcity').value,
                    "fdate": document.getElementById('fdate').value,
                    "ftime": document.getElementById('ftime').value,
                }
            )
        }).then(function (response) {
            return response.json();
        }).then(function (body) {
            console.log(body);

            // !##%
            for (let i = 0; i < body.length; i++) {
                localStorage.setItem(`${i}`, JSON.stringify(`${body[i].StoreID}!##%${body[i].Store_Name}!##%${body[i].Store_Class}!##%${body[i].Picture}!##%${body[i].Address_Area}!##%${body[i].Address_Detail}!##%${body[i].StarRating}!##%${body[i].ContentCount}!##%${body[i].Punch_Time}!##%${body[i].Phone}!##%${body[i].Introduce}!##%`));
            }

        }).then(function () {
            window.location.assign("http://localhost:44368/Search/SearchStore");

        })
    }

    //-----------------------------------------------------------------------------------------------------------------------------------AddLove
        function AddLove(storeid) {
            var apiurl = "http://localhost:44368/api/CustomerFavorite";
            if(@test != 0) {
                    var yes = confirm('要加入我的最愛嗎？');
                    if (yes) {
                        fetch(apiurl, {
                            headers: {
                                'Accept': 'application/json; charset=utf-8',
                                'Content-Type': 'application/json; charset=utf-8'
                            },
                            method: 'POST',
                            body: JSON.stringify(
                                {
                                    cid: @test,
                                    sid: storeid,
                                }
                            )
                        }).then(function (response) {
                            return response.json();
                        }).then((data) => {
                            /*console.log(data)*/ // 1 成功 0 失敗
                            if (data == 1) {
                                Swal.fire({
                                    icon: 'success',
                                    title: '加入成功!',
                                    text: '已將此筆餐車新增至我的最愛'
                                })
                                reloadLove();
                            } else {
                                Swal.fire({
                                    icon: 'info',
                                    title: '已經加入過囉!',
                                    text: '請至我的最愛查看~'
                                })
                            }
                        })

                    }
                    else {
                        /*alert("謝謝支持")*/
                }
            } else {
                Swal.fire({
                    icon: 'question',
                    title: '是不是還沒登入?'
                })
            }
        }



    function getData台式() {
        document.getElementById("result").innerHTML = "";

        localStorage.clear();

        fetch("http://localhost:44368/api/truck?fclass=台式").then(function (response) {
            return response.json();
        }).then(function (data) {

            let result = document.querySelector("#result");
            for (let i = 0; i < data.length; i++) {

                // !##%
                localStorage.setItem(`${i}`, JSON.stringify(`${data[i].StoreID}!##%${data[i].Store_Name}!##%${data[i].Store_Class}!##%${data[i].Picture}!##%${data[i].Address_Area}!##%${data[i].Address_Detail}!##%${data[i].StarRating}!##%${data[i].ContentCount}!##%${data[i].Punch_Time}!##%${data[i].Phone}!##%${data[i].Introduce}!##%${data[i].Address_City}!##%`));

                result.innerHTML += `<div class="col-lg-4 col-md-6 wow fadeInUp" data-wow-delay="0.1s">
                                <div class="property-item rounded overflow-hidden">
                                    <div class="position-relative overflow-hidden">
                                        <a href="../Store/ShowStore?id=${data[i].StoreID}"><img class="img-fluid" src="${data[i].Picture}" alt="" style="width:400px;height:200px;"></a>
                                        <div class="bg-primary rounded text-white position-absolute start-0 top-0 m-4 py-1 px-3">${data[i].Address_City}</div>
                                        <div class="bg-secondary rounded text-white position-absolute top-0 m-4 py-1 px-3" style="left:60%">${data[i].StarRating}<i class="fas fa-star fa-1x text-white"></i></div>
                                        <div class="round ed-top position-absolute start-0 bottom-0 mx-4 pt-1 px-3" style="background-color:coral; border-radius:15px; color:#FFF;">${data[i].Store_Class}</div>
                                    </div>
                                    <div class="p-4 pb-0">
                                        <a class="d-block h5 mb-2" href="../Store/ShowStore?id=${data[i].StoreID}">${data[i].Store_Name}</a>
                                        <p><img src="/Content/imgs/icon/locationmark.png" style="margin-right:6px; margin-bottom:4px;">${data[i].Address_Detail}</p>
                                    </div>
                                    <div class="d-flex border-top">
                                        <small class="flex-fill text-center border-end py-2" style="cursor:pointer;" onclick="AddLove(${data[i].StoreID})"><img src="/Content/imgs/icon/heart.png" style="margin-right:10px; margin-bottom:4px;">加入我的最愛</small>
                                    </div>
                                </div>
                            </div>`
            }
        })
    }

    function getData港式() {
        document.getElementById("result").innerHTML = "";
        localStorage.clear();
        fetch("http://localhost:44368/api/truck?fclass=港式").then(function (response) {
            return response.json();
        }).then(function (data) {

            let result = document.querySelector("#result");
            for (let i = 0; i < data.length; i++) {

                // !##%
                localStorage.setItem(`${i}`, JSON.stringify(`${data[i].StoreID}!##%${data[i].Store_Name}!##%${data[i].Store_Class}!##%${data[i].Picture}!##%${data[i].Address_Area}!##%${data[i].Address_Detail}!##%${data[i].StarRating}!##%${data[i].ContentCount}!##%${data[i].Punch_Time}!##%${data[i].Phone}!##%${data[i].Introduce}!##%${data[i].Address_City}!##%`));

                result.innerHTML += `<div class="col-lg-4 col-md-6 wow fadeInUp" data-wow-delay="0.1s">
                                <div class="property-item rounded overflow-hidden">
                                    <div class="position-relative overflow-hidden">
                                        <a href="../Store/ShowStore?id=${data[i].StoreID}"><img class="img-fluid" src="${data[i].Picture}" alt="" style="width:400px;height:200px;"></a>
                                        <div class="bg-primary rounded text-white position-absolute start-0 top-0 m-4 py-1 px-3">${data[i].Address_City}</div>
                                        <div class="bg-secondary rounded text-white position-absolute top-0 m-4 py-1 px-3" style="left:60%">${data[i].StarRating}<i class="fas fa-star fa-1x text-white"></i></div>
                                        <div class="round ed-top position-absolute start-0 bottom-0 mx-4 pt-1 px-3" style="background-color:coral; border-radius:15px; color:#FFF;">${data[i].Store_Class}</div>
                                    </div>
                                    <div class="p-4 pb-0">
                                        <a class="d-block h5 mb-2" href="../Store/ShowStore?id=${data[i].StoreID}">${data[i].Store_Name}</a>
                                        <p><img src="/Content/imgs/icon/locationmark.png" style="margin-right:6px; margin-bottom:4px;">${data[i].Address_Detail}</p>
                                    </div>
                                    <div class="d-flex border-top">
                                        <small class="flex-fill text-center border-end py-2" style="cursor:pointer;" onclick="AddLove(${data[i].StoreID})"><img src="/Content/imgs/icon/heart.png" style="margin-right:10px; margin-bottom:4px;">加入我的最愛</small>
                                    </div>
                                </div>
                            </div>`
            }
        })
    }

    function getData西式() {
        document.getElementById("result").innerHTML = "";
        localStorage.clear();
        fetch("http://localhost:44368/api/truck?fclass=西式").then(function (response) {
            return response.json();
        }).then(function (data) {

            let result = document.querySelector("#result");
            for (let i = 0; i < data.length; i++) {

                // !##%
                localStorage.setItem(`${i}`, JSON.stringify(`${data[i].StoreID}!##%${data[i].Store_Name}!##%${data[i].Store_Class}!##%${data[i].Picture}!##%${data[i].Address_Area}!##%${data[i].Address_Detail}!##%${data[i].StarRating}!##%${data[i].ContentCount}!##%${data[i].Punch_Time}!##%${data[i].Phone}!##%${data[i].Introduce}!##%${data[i].Address_City}!##%`));

                result.innerHTML += `<div class="col-lg-4 col-md-6 wow fadeInUp" data-wow-delay="0.1s">
                                <div class="property-item rounded overflow-hidden">
                                    <div class="position-relative overflow-hidden">
                                        <a href="../Store/ShowStore?id=${data[i].StoreID}"><img class="img-fluid" src="${data[i].Picture}" alt="" style="width:400px;height:200px;"></a>
                                        <div class="bg-primary rounded text-white position-absolute start-0 top-0 m-4 py-1 px-3">${data[i].Address_City}</div>
                                        <div class="bg-secondary rounded text-white position-absolute top-0 m-4 py-1 px-3" style="left:60%">${data[i].StarRating}<i class="fas fa-star fa-1x text-white"></i></div>
                                        <div class="round ed-top position-absolute start-0 bottom-0 mx-4 pt-1 px-3" style="background-color:coral; border-radius:15px; color:#FFF;">${data[i].Store_Class}</div>
                                    </div>
                                    <div class="p-4 pb-0">
                                        <a class="d-block h5 mb-2" href="../Store/ShowStore?id=${data[i].StoreID}">${data[i].Store_Name}</a>
                                        <p><img src="/Content/imgs/icon/locationmark.png" style="margin-right:6px; margin-bottom:4px;">${data[i].Address_Detail}</p>
                                    </div>
                                    <div class="d-flex border-top">
                                        <small class="flex-fill text-center border-end py-2" style="cursor:pointer;" onclick="AddLove(${data[i].StoreID})"><img src="/Content/imgs/icon/heart.png" style="margin-right:10px; margin-bottom:4px;">加入我的最愛</small>
                                    </div>
                                </div>
                            </div>`
            }
        })
    }

    function getData日式() {
        document.getElementById("result").innerHTML = "";
        localStorage.clear();
        fetch("http://localhost:44368/api/truck?fclass=日式").then(function (response) {
            return response.json();
        }).then(function (data) {

            let result = document.querySelector("#result");
            for (let i = 0; i < data.length; i++) {

                // !##%
                localStorage.setItem(`${i}`, JSON.stringify(`${data[i].StoreID}!##%${data[i].Store_Name}!##%${data[i].Store_Class}!##%${data[i].Picture}!##%${data[i].Address_Area}!##%${data[i].Address_Detail}!##%${data[i].StarRating}!##%${data[i].ContentCount}!##%${data[i].Punch_Time}!##%${data[i].Phone}!##%${data[i].Introduce}!##%${data[i].Address_City}!##%`));

                result.innerHTML += `<div class="col-lg-4 col-md-6 wow fadeInUp" data-wow-delay="0.1s">
                                <div class="property-item rounded overflow-hidden">
                                    <div class="position-relative overflow-hidden">
                                        <a href="../Store/ShowStore?id=${data[i].StoreID}"><img class="img-fluid" src="${data[i].Picture}" alt="" style="width:400px;height:200px;"></a>
                                        <div class="bg-primary rounded text-white position-absolute start-0 top-0 m-4 py-1 px-3">${data[i].Address_City}</div>
                                        <div class="bg-secondary rounded text-white position-absolute top-0 m-4 py-1 px-3" style="left:60%">${data[i].StarRating}<i class="fas fa-star fa-1x text-white"></i></div>
                                        <div class="round ed-top position-absolute start-0 bottom-0 mx-4 pt-1 px-3" style="background-color:coral; border-radius:15px; color:#FFF;">${data[i].Store_Class}</div>
                                    </div>
                                    <div class="p-4 pb-0">
                                        <a class="d-block h5 mb-2" href="../Store/ShowStore?id=${data[i].StoreID}">${data[i].Store_Name}</a>
                                        <p><img src="/Content/imgs/icon/locationmark.png" style="margin-right:6px; margin-bottom:4px;">${data[i].Address_Detail}</p>
                                    </div>
                                    <div class="d-flex border-top">
                                        <small class="flex-fill text-center border-end py-2" style="cursor:pointer;" onclick="AddLove(${data[i].StoreID})"><img src="/Content/imgs/icon/heart.png" style="margin-right:10px; margin-bottom:4px;">加入我的最愛</small>
                                    </div>
                                </div>
                            </div>`
            }
        })
    }

    function getData韓式() {
        document.getElementById("result").innerHTML = "";
        localStorage.clear();
        fetch("http://localhost:44368/api/truck?fclass=韓式").then(function (response) {
            return response.json();
        }).then(function (data) {

            let result = document.querySelector("#result");
            for (let i = 0; i < data.length; i++) {

                // !##%
                localStorage.setItem(`${i}`, JSON.stringify(`${data[i].StoreID}!##%${data[i].Store_Name}!##%${data[i].Store_Class}!##%${data[i].Picture}!##%${data[i].Address_Area}!##%${data[i].Address_Detail}!##%${data[i].StarRating}!##%${data[i].ContentCount}!##%${data[i].Punch_Time}!##%${data[i].Phone}!##%${data[i].Introduce}!##%${data[i].Address_City}!##%`));

                result.innerHTML += `<div class="col-lg-4 col-md-6 wow fadeInUp" data-wow-delay="0.1s">
                                <div class="property-item rounded overflow-hidden">
                                    <div class="position-relative overflow-hidden">
                                        <a href="../Store/ShowStore?id=${data[i].StoreID}"><img class="img-fluid" src="${data[i].Picture}" alt="" style="width:400px;height:200px;"></a>
                                        <div class="bg-primary rounded text-white position-absolute start-0 top-0 m-4 py-1 px-3">${data[i].Address_City}</div>
                                        <div class="bg-secondary rounded text-white position-absolute top-0 m-4 py-1 px-3" style="left:60%">${data[i].StarRating}<i class="fas fa-star fa-1x text-white"></i></div>
                                        <div class="round ed-top position-absolute start-0 bottom-0 mx-4 pt-1 px-3" style="background-color:coral; border-radius:15px; color:#FFF;">${data[i].Store_Class}</div>
                                    </div>
                                    <div class="p-4 pb-0">
                                        <a class="d-block h5 mb-2" href="../Store/ShowStore?id=${data[i].StoreID}">${data[i].Store_Name}</a>
                                        <p><img src="/Content/imgs/icon/locationmark.png" style="margin-right:6px; margin-bottom:4px;">${data[i].Address_Detail}</p>
                                    </div>
                                    <div class="d-flex border-top">
                                        <small class="flex-fill text-center border-end py-2" style="cursor:pointer;" onclick="AddLove(${data[i].StoreID})"><img src="/Content/imgs/icon/heart.png" style="margin-right:10px; margin-bottom:4px;">加入我的最愛</small>
                                    </div>
                                </div>
                            </div>`
            }
        })
    }

    function getData美式() {
        document.getElementById("result").innerHTML = "";
        localStorage.clear();
        fetch("http://localhost:44368/api/truck?fclass=美式").then(function (response) {
            return response.json();
        }).then(function (data) {

            let result = document.querySelector("#result");
            for (let i = 0; i < data.length; i++) {

                // !##%
                localStorage.setItem(`${i}`, JSON.stringify(`${data[i].StoreID}!##%${data[i].Store_Name}!##%${data[i].Store_Class}!##%${data[i].Picture}!##%${data[i].Address_Area}!##%${data[i].Address_Detail}!##%${data[i].StarRating}!##%${data[i].ContentCount}!##%${data[i].Punch_Time}!##%${data[i].Phone}!##%${data[i].Introduce}!##%${data[i].Address_City}!##%`));

                result.innerHTML += `<div class="col-lg-4 col-md-6 wow fadeInUp" data-wow-delay="0.1s">
                                <div class="property-item rounded overflow-hidden">
                                    <div class="position-relative overflow-hidden">
                                        <a href="../Store/ShowStore?id=${data[i].StoreID}"><img class="img-fluid" src="${data[i].Picture}" alt="" style="width:400px;height:200px;"></a>
                                        <div class="bg-primary rounded text-white position-absolute start-0 top-0 m-4 py-1 px-3">${data[i].Address_City}</div>
                                        <div class="bg-secondary rounded text-white position-absolute top-0 m-4 py-1 px-3" style="left:60%">${data[i].StarRating}<i class="fas fa-star fa-1x text-white"></i></div>
                                        <div class="round ed-top position-absolute start-0 bottom-0 mx-4 pt-1 px-3" style="background-color:coral; border-radius:15px; color:#FFF;">${data[i].Store_Class}</div>
                                    </div>
                                    <div class="p-4 pb-0">
                                        <a class="d-block h5 mb-2" href="../Store/ShowStore?id=${data[i].StoreID}">${data[i].Store_Name}</a>
                                        <p><img src="/Content/imgs/icon/locationmark.png" style="margin-right:6px; margin-bottom:4px;">${data[i].Address_Detail}</p>
                                    </div>
                                    <div class="d-flex border-top">
                                        <small class="flex-fill text-center border-end py-2" style="cursor:pointer;" onclick="AddLove(${data[i].StoreID})"><img src="/Content/imgs/icon/heart.png" style="margin-right:10px; margin-bottom:4px;">加入我的最愛</small>
                                    </div>
                                </div>
                            </div>`
            }
        })
    }

    function getData早午餐() {
        document.getElementById("result").innerHTML = "";
        localStorage.clear();
        fetch("http://localhost:44368/api/truck?fclass=早午餐").then(function (response) {
            return response.json();
        }).then(function (data) {

            let result = document.querySelector("#result");
            for (let i = 0; i < data.length; i++) {

                // !##%
                localStorage.setItem(`${i}`, JSON.stringify(`${data[i].StoreID}!##%${data[i].Store_Name}!##%${data[i].Store_Class}!##%${data[i].Picture}!##%${data[i].Address_Area}!##%${data[i].Address_Detail}!##%${data[i].StarRating}!##%${data[i].ContentCount}!##%${data[i].Punch_Time}!##%${data[i].Phone}!##%${data[i].Introduce}!##%${data[i].Address_City}!##%`));

                result.innerHTML += `<div class="col-lg-4 col-md-6 wow fadeInUp" data-wow-delay="0.1s">
                                <div class="property-item rounded overflow-hidden">
                                    <div class="position-relative overflow-hidden">
                                        <a href="../Store/ShowStore?id=${data[i].StoreID}"><img class="img-fluid" src="${data[i].Picture}" alt="" style="width:400px;height:200px;"></a>
                                        <div class="bg-primary rounded text-white position-absolute start-0 top-0 m-4 py-1 px-3">${data[i].Address_City}</div>
                                        <div class="bg-secondary rounded text-white position-absolute top-0 m-4 py-1 px-3" style="left:60%">${data[i].StarRating}<i class="fas fa-star fa-1x text-white"></i></div>
                                        <div class="round ed-top position-absolute start-0 bottom-0 mx-4 pt-1 px-3" style="background-color:coral; border-radius:15px; color:#FFF;">${data[i].Store_Class}</div>
                                    </div>
                                    <div class="p-4 pb-0">
                                        <a class="d-block h5 mb-2" href="../Store/ShowStore?id=${data[i].StoreID}">${data[i].Store_Name}</a>
                                        <p><img src="/Content/imgs/icon/locationmark.png" style="margin-right:6px; margin-bottom:4px;">${data[i].Address_Detail}</p>
                                    </div>
                                    <div class="d-flex border-top">
                                        <small class="flex-fill text-center border-end py-2" style="cursor:pointer;" onclick="AddLove(${data[i].StoreID})"><img src="/Content/imgs/icon/heart.png" style="margin-right:10px; margin-bottom:4px;">加入我的最愛</small>
                                    </div>
                                </div>
                            </div>`
            }
        })
    }

    function getData鍋物() {
        document.getElementById("result").innerHTML = "";
        localStorage.clear();
        fetch("http://localhost:44368/api/truck?fclass=鍋物").then(function (response) {
            return response.json();
        }).then(function (data) {

            let result = document.querySelector("#result");
            for (let i = 0; i < data.length; i++) {

                // !##%
                localStorage.setItem(`${i}`, JSON.stringify(`${data[i].StoreID}!##%${data[i].Store_Name}!##%${data[i].Store_Class}!##%${data[i].Picture}!##%${data[i].Address_Area}!##%${data[i].Address_Detail}!##%${data[i].StarRating}!##%${data[i].ContentCount}!##%${data[i].Punch_Time}!##%${data[i].Phone}!##%${data[i].Introduce}!##%${data[i].Address_City}!##%`));

                result.innerHTML += `<div class="col-lg-4 col-md-6 wow fadeInUp" data-wow-delay="0.1s">
                                <div class="property-item rounded overflow-hidden">
                                    <div class="position-relative overflow-hidden">
                                        <a href="../Store/ShowStore?id=${data[i].StoreID}"><img class="img-fluid" src="${data[i].Picture}" alt="" style="width:400px;height:200px;"></a>
                                        <div class="bg-primary rounded text-white position-absolute start-0 top-0 m-4 py-1 px-3">${data[i].Address_City}</div>
                                        <div class="bg-secondary rounded text-white position-absolute top-0 m-4 py-1 px-3" style="left:60%">${data[i].StarRating}<i class="fas fa-star fa-1x text-white"></i></div>
                                        <div class="round ed-top position-absolute start-0 bottom-0 mx-4 pt-1 px-3" style="background-color:coral; border-radius:15px; color:#FFF;">${data[i].Store_Class}</div>
                                    </div>
                                    <div class="p-4 pb-0">
                                        <a class="d-block h5 mb-2" href="../Store/ShowStore?id=${data[i].StoreID}">${data[i].Store_Name}</a>
                                        <p><img src="/Content/imgs/icon/locationmark.png" style="margin-right:6px; margin-bottom:4px;">${data[i].Address_Detail}</p>
                                    </div>
                                    <div class="d-flex border-top">
                                        <small class="flex-fill text-center border-end py-2" style="cursor:pointer;" onclick="AddLove(${data[i].StoreID})"><img src="/Content/imgs/icon/heart.png" style="margin-right:10px; margin-bottom:4px;">加入我的最愛</small>
                                    </div>
                                </div>
                            </div>`
            }
        })
    }

    function getData炸物() {
        document.getElementById("result").innerHTML = "";
        localStorage.clear();
        fetch("http://localhost:44368/api/truck?fclass=炸物").then(function (response) {
            return response.json();
        }).then(function (data) {

            let result = document.querySelector("#result");
            for (let i = 0; i < data.length; i++) {

                // !##%
                localStorage.setItem(`${i}`, JSON.stringify(`${data[i].StoreID}!##%${data[i].Store_Name}!##%${data[i].Store_Class}!##%${data[i].Picture}!##%${data[i].Address_Area}!##%${data[i].Address_Detail}!##%${data[i].StarRating}!##%${data[i].ContentCount}!##%${data[i].Punch_Time}!##%${data[i].Phone}!##%${data[i].Introduce}!##%${data[i].Address_City}!##%`));

                result.innerHTML += `<div class="col-lg-4 col-md-6 wow fadeInUp" data-wow-delay="0.1s">
                                <div class="property-item rounded overflow-hidden">
                                    <div class="position-relative overflow-hidden">
                                        <a href="../Store/ShowStore?id=${data[i].StoreID}"><img class="img-fluid" src="${data[i].Picture}" alt="" style="width:400px;height:200px;"></a>
                                        <div class="bg-primary rounded text-white position-absolute start-0 top-0 m-4 py-1 px-3">${data[i].Address_City}</div>
                                        <div class="bg-secondary rounded text-white position-absolute top-0 m-4 py-1 px-3" style="left:60%">${data[i].StarRating}<i class="fas fa-star fa-1x text-white"></i></div>
                                        <div class="round ed-top position-absolute start-0 bottom-0 mx-4 pt-1 px-3" style="background-color:coral; border-radius:15px; color:#FFF;">${data[i].Store_Class}</div>
                                    </div>
                                    <div class="p-4 pb-0">
                                        <a class="d-block h5 mb-2" href="../Store/ShowStore?id=${data[i].StoreID}">${data[i].Store_Name}</a>
                                        <p><img src="/Content/imgs/icon/locationmark.png" style="margin-right:6px; margin-bottom:4px;">${data[i].Address_Detail}</p>
                                    </div>
                                    <div class="d-flex border-top">
                                        <small class="flex-fill text-center border-end py-2" style="cursor:pointer;" onclick="AddLove(${data[i].StoreID})"><img src="/Content/imgs/icon/heart.png" style="margin-right:10px; margin-bottom:4px;">加入我的最愛</small>
                                    </div>
                                </div>
                            </div>`
            }
        })
    }

    function getData咖啡() {
        document.getElementById("result").innerHTML = "";
        localStorage.clear();
        fetch("http://localhost:44368/api/truck?fclass=咖啡").then(function (response) {
            return response.json();
        }).then(function (data) {

            let result = document.querySelector("#result");
            for (let i = 0; i < data.length; i++) {

                // !##%
                localStorage.setItem(`${i}`, JSON.stringify(`${data[i].StoreID}!##%${data[i].Store_Name}!##%${data[i].Store_Class}!##%${data[i].Picture}!##%${data[i].Address_Area}!##%${data[i].Address_Detail}!##%${data[i].StarRating}!##%${data[i].ContentCount}!##%${data[i].Punch_Time}!##%${data[i].Phone}!##%${data[i].Introduce}!##%${data[i].Address_City}!##%`));

                result.innerHTML += `<div class="col-lg-4 col-md-6 wow fadeInUp" data-wow-delay="0.1s">
                                <div class="property-item rounded overflow-hidden">
                                    <div class="position-relative overflow-hidden">
                                        <a href="../Store/ShowStore?id=${data[i].StoreID}"><img class="img-fluid" src="${data[i].Picture}" alt="" style="width:400px;height:200px;"></a>
                                        <div class="bg-primary rounded text-white position-absolute start-0 top-0 m-4 py-1 px-3">${data[i].Address_City}</div>
                                        <div class="bg-secondary rounded text-white position-absolute top-0 m-4 py-1 px-3" style="left:60%">${data[i].StarRating}<i class="fas fa-star fa-1x text-white"></i></div>
                                        <div class="round ed-top position-absolute start-0 bottom-0 mx-4 pt-1 px-3" style="background-color:coral; border-radius:15px; color:#FFF;">${data[i].Store_Class}</div>
                                    </div>
                                    <div class="p-4 pb-0">
                                        <a class="d-block h5 mb-2" href="../Store/ShowStore?id=${data[i].StoreID}">${data[i].Store_Name}</a>
                                        <p><img src="/Content/imgs/icon/locationmark.png" style="margin-right:6px; margin-bottom:4px;">${data[i].Address_Detail}</p>
                                    </div>
                                    <div class="d-flex border-top">
                                        <small class="flex-fill text-center border-end py-2" style="cursor:pointer;" onclick="AddLove(${data[i].StoreID})"><img src="/Content/imgs/icon/heart.png" style="margin-right:10px; margin-bottom:4px;">加入我的最愛</small>
                                    </div>
                                </div>
                            </div>`
            }
        })
    }

    function getData飲料() {
        document.getElementById("result").innerHTML = "";
        localStorage.clear();
        fetch("http://localhost:44368/api/truck?fclass=飲料").then(function (response) {
            return response.json();
        }).then(function (data) {

            let result = document.querySelector("#result");
            for (let i = 0; i < data.length; i++) {

                // !##%
                localStorage.setItem(`${i}`, JSON.stringify(`${data[i].StoreID}!##%${data[i].Store_Name}!##%${data[i].Store_Class}!##%${data[i].Picture}!##%${data[i].Address_Area}!##%${data[i].Address_Detail}!##%${data[i].StarRating}!##%${data[i].ContentCount}!##%${data[i].Punch_Time}!##%${data[i].Phone}!##%${data[i].Introduce}!##%${data[i].Address_City}!##%`));

                result.innerHTML += `<div class="col-lg-4 col-md-6 wow fadeInUp" data-wow-delay="0.1s">
                                <div class="property-item rounded overflow-hidden">
                                    <div class="position-relative overflow-hidden">
                                        <a href="../Store/ShowStore?id=${data[i].StoreID}"><img class="img-fluid" src="${data[i].Picture}" alt="" style="width:400px;height:200px;"></a>
                                        <div class="bg-primary rounded text-white position-absolute start-0 top-0 m-4 py-1 px-3">${data[i].Address_City}</div>
                                        <div class="bg-secondary rounded text-white position-absolute top-0 m-4 py-1 px-3" style="left:60%">${data[i].StarRating}<i class="fas fa-star fa-1x text-white"></i></div>
                                        <div class="round ed-top position-absolute start-0 bottom-0 mx-4 pt-1 px-3" style="background-color:coral; border-radius:15px; color:#FFF;">${data[i].Store_Class}</div>
                                    </div>
                                    <div class="p-4 pb-0">
                                        <a class="d-block h5 mb-2" href="../Store/ShowStore?id=${data[i].StoreID}">${data[i].Store_Name}</a>
                                        <p><img src="/Content/imgs/icon/locationmark.png" style="margin-right:6px; margin-bottom:4px;">${data[i].Address_Detail}</p>
                                    </div>
                                    <div class="d-flex border-top">
                                        <small class="flex-fill text-center border-end py-2" style="cursor:pointer;" onclick="AddLove(${data[i].StoreID})"><img src="/Content/imgs/icon/heart.png" style="margin-right:10px; margin-bottom:4px;">加入我的最愛</small>
                                    </div>
                                </div>
                            </div>`
            }
        })
    }

    function getData甜點() {
        document.getElementById("result").innerHTML = "";
        localStorage.clear();
        fetch("http://localhost:44368/api/truck?fclass=甜點").then(function (response) {
            return response.json();
        }).then(function (data) {

            let result = document.querySelector("#result");
            for (let i = 0; i < data.length; i++) {

                // !##%
                localStorage.setItem(`${i}`, JSON.stringify(`${data[i].StoreID}!##%${data[i].Store_Name}!##%${data[i].Store_Class}!##%${data[i].Picture}!##%${data[i].Address_Area}!##%${data[i].Address_Detail}!##%${data[i].StarRating}!##%${data[i].ContentCount}!##%${data[i].Punch_Time}!##%${data[i].Phone}!##%${data[i].Introduce}!##%${data[i].Address_City}!##%`));

                result.innerHTML += `<div class="col-lg-4 col-md-6 wow fadeInUp" data-wow-delay="0.1s">
                                <div class="property-item rounded overflow-hidden">
                                    <div class="position-relative overflow-hidden">
                                        <a href="../Store/ShowStore?id=${data[i].StoreID}"><img class="img-fluid" src="${data[i].Picture}" alt="" style="width:400px;height:200px;"></a>
                                        <div class="bg-primary rounded text-white position-absolute start-0 top-0 m-4 py-1 px-3">${data[i].Address_City}</div>
                                        <div class="bg-secondary rounded text-white position-absolute top-0 m-4 py-1 px-3" style="left:60%">${data[i].StarRating}<i class="fas fa-star fa-1x text-white"></i></div>
                                        <div class="round ed-top position-absolute start-0 bottom-0 mx-4 pt-1 px-3" style="background-color:coral; border-radius:15px; color:#FFF;">${data[i].Store_Class}</div>
                                    </div>
                                    <div class="p-4 pb-0">
                                        <a class="d-block h5 mb-2" href="../Store/ShowStore?id=${data[i].StoreID}">${data[i].Store_Name}</a>
                                        <p><img src="/Content/imgs/icon/locationmark.png" style="margin-right:6px; margin-bottom:4px;">${data[i].Address_Detail}</p>
                                    </div>
                                    <div class="d-flex border-top">
                                        <small class="flex-fill text-center border-end py-2" style="cursor:pointer;" onclick="AddLove(${data[i].StoreID})"><img src="/Content/imgs/icon/heart.png" style="margin-right:10px; margin-bottom:4px;">加入我的最愛</small>
                                    </div>
                                </div>
                            </div>`
            }
        })
    }

</script>
<!-- 資料串接End -->