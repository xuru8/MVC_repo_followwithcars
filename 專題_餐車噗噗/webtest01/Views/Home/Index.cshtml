@{ ViewBag.Title = "Home Page";
    int test = 0;
    if (Session["Store"] != null)
    {
        Layout = "~/Views/Shared/_LayoutStore.cshtml";
    }
    else if (Session["Customer"] != null)
    {
        test = Convert.ToInt32(Session["Customer"]);
        Layout = "~/Views/Shared/_LayoutCustomer.cshtml";
    }
    else
    {
        test = 0;
        Layout = "~/Views/Shared/_Layout.cshtml";
    }; 
    }


<div class="container-fluid header bg-white p-0">
    <div class="row g-0 align-items-center flex-column-reverse flex-md-row">
        <div class="col-md-6 p-5 mt-lg-5">
            <h1 class="display-5 animated fadeIn mb-3">你... <br>還在追<span class="text-primary">幽靈攤販</span>嗎?</h1>
            <p class="animated fadeIn mb-4 pb-2">精選北中南地區優質攤販<br>即時更新攤販營業動向<br>讓您不再對攤販美食患得患失</p>
        </div>
        <div class="col-md-6 animated fadeIn">
            <div class="owl-carousel header-carousel">
                <div class="owl-carousel-item">
                    <img class="img-fluid" src="~/Content/imgs/Roll3.jpg" alt="">
                </div>
                <div class="owl-carousel-item">
                    <img class="img-fluid" src="~/Content/imgs/Roll4.jpg" alt="">
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Header End -->
<!-- Search Start -->
<div class="container-fluid bg-primary mb-5 wow fadeIn" data-wow-delay="0.1s" style="padding: 35px;">
    <div class="container">
        <div class="row g-2">
            <div class="col-md-10">
                <div class="row g-2">
                    <div class="col-md-3">
                        <div class="form-outline flex-fill mb-md-0">
                            <input type="date" id="fdate" class="form-control" style="height: 56px;" />
                        </div>
                    </div>
                    <div class="col-md-2">
                        <select class="form-select border-0 py-3" id="ftime">
                            <option value="">營業時間</option>
                            <option value="06:00-12:00">06:00-12:00</option>
                            <option value="12:00-18:00">12:00-18:00</option>
                            <option value="18:00-24:00">18:00-24:00</option>
                        </select>
                    </div>
                    <div class="col-md-2">
                        <select class="form-select border-0 py-3" id="fclass">
                            <option value="">食物類別</option>
                            <option value="台式">台式</option>
                            <option value="西式">西式</option>
                            <option value="日式">日式</option>
                            <option value="美式">美式</option>
                            <option value="韓式">韓式</option>
                            <option value="港式">港式</option>
                            <option value="早午餐">早午餐</option>
                            <option value="鍋物">鍋物</option>
                            <option value="炸物">炸物</option>
                            <option value="飲料">飲料</option>
                            <option value="甜點">甜點</option>
                            <option value="咖啡">咖啡</option>
                        </select>
                    </div>
                    <div class="col-md-2">
                        <select class="form-select border-0 py-3" id="fcity">
                            <option value="">地點</option>
                            <option value="基隆市">基隆市</option>
                            <option value="臺北市">臺北市</option>
                            <option value="新北市">新北市</option>
                            <option value="宜蘭縣">宜蘭縣</option>
                            <option value="新竹市">新竹市</option>
                            <option value="新竹縣">新竹縣</option>
                            <option value="桃園市">桃園市</option>
                            <option value="苗栗縣">苗栗縣</option>
                            <option value="臺中市">臺中市</option>
                            <option value="彰化縣">彰化縣</option>
                            <option value="南投縣">南投縣</option>
                            <option value="嘉義市">嘉義市</option>
                            <option value="嘉義縣">嘉義縣</option>
                            <option value="雲林縣">雲林縣</option>
                            <option value="臺南市">臺南市</option>
                            <option value="高雄市">高雄市</option>
                            <option value="屏東縣">屏東縣</option>
                            <option value="臺東縣">臺東縣</option>
                            <option value="花蓮縣">花蓮縣</option>
                            <option value="金門縣">金門縣</option>
                            <option value="連江縣">連江縣</option>
                            <option value="澎湖縣">澎湖縣</option>
                        </select>
                    </div>
                    <div class="col-md-3">
                        <input type="text" class="form-control border-0 py-3" placeholder="店名" id="fname">
                    </div>
                </div>
            </div>
            <div class="col-md-2">
                <button class="btn btn-dark border-0 w-50 py-3" id="btnsearch">搜尋</button>
            </div>
        </div>
    </div>
</div>
<!-- Search End -->
<!-- Property List Start -->
<div class="container-xxl py-5">
    <div class="container">
        <div class="row g-0 gx-5 align-items-end">
            <div class="col-lg-6">
                <div class="text-start mx-auto mb-5 wow slideInLeft" data-wow-delay="0.1s">
                    <h1 class="mb-3" id="title">新店快訊</h1>
                </div>
            </div>
            <div class="col-lg-6 text-start text-lg-end wow slideInRight" data-wow-delay="0.1s">
                <ul class="nav nav-pills d-inline-flex justify-content-end mb-5">
                    <li class="nav-item me-2">
                        <button class="btn btn-outline-primary active" data-bs-toggle="pill" onclick="getDataNorth()">北部</button>
                    </li>
                    <li class="nav-item me-2">
                        <button class="btn btn-outline-primary active" data-bs-toggle="pill" onclick="getDataCentral()">中部</button>
                    </li>
                    <li class="nav-item me-0">
                        <button class="btn btn-outline-primary active" data-bs-toggle="pill" onclick="getDataSouth()">南部</button>
                    </li>
                </ul>
            </div>
        </div>
        <div class="tab-content">
            <div id="tab-1" class="tab-pane fade show p-0 active">
                <div class="row g-4" id="result">




                </div>
                @*<div class="col-12 text-center" style="margin-top:40px;">
                    <button class="btn btn-primary py-3 px-5" onclick="getData()">查看更多餐車</button>
                </div>*@
            </div>
        </div>
    </div>
</div>

<!-- Category Start -->
<div class="container-xxl py-5">
    <div class="container">
        <div class="text-center mx-auto mb-5 wow fadeInUp" data-wow-delay="0.1s" style="max-width: 600px;">
            <h1 class="mb-3">熱搜排行榜</h1>
            <p>網羅當今最火紅的餐車！</p>
        </div>
        <div class="row g-4">
            <div class="col-lg-3 col-sm-6 wow fadeInUp" data-wow-delay="0.1s">
                <a class="cat-item d-block bg-light text-center rounded p-3" id="taiwanClass" style="cursor:pointer;">
                    <div class="rounded p-4">
                        <div class="icon mb-3">
                            <img src="~/Content/imgs/icon/chinese.png">
                        </div>
                        <h6>台式</h6>

                    </div>
                </a>
            </div>

            <div class="col-lg-3 col-sm-6 wow fadeInUp" data-wow-delay="0.3s">
                <a class="cat-item d-block bg-light text-center rounded p-3" id="hongkongClass" style="cursor:pointer;">
                    <div class="rounded p-4">
                        <div class="icon mb-3">
                            <img class="img-fluid" src="~/Content/imgs/icon/hongkong.png" alt="Icon">
                        </div>
                        <h6>港式</h6>

                    </div>
                </a>
            </div>

            <div class="col-lg-3 col-sm-6 wow fadeInUp" data-wow-delay="0.3s">
                <a class="cat-item d-block bg-light text-center rounded p-3" id="westClass" style="cursor:pointer;">
                    <div class="rounded p-4">
                        <div class="icon mb-3">
                            <img class="img-fluid" src="~/Content/imgs/icon/main.png" alt="Icon">
                        </div>
                        <h6>西式</h6>

                    </div>
                </a>
            </div>
            <div class="col-lg-3 col-sm-6 wow fadeInUp" data-wow-delay="0.5s">
                <a class="cat-item d-block bg-light text-center rounded p-3" id="japanClass" style="cursor:pointer;">
                    <div class="rounded p-4">
                        <div class="icon mb-3">
                            <img src="~/Content/imgs/icon/japan.png">
                        </div>
                        <h6>日式</h6>
                    </div>
                </a>
            </div>

            <div class="col-lg-3 col-sm-6 wow fadeInUp" data-wow-delay="0.7s">
                <a class="cat-item d-block bg-light text-center rounded p-3" id="koreaClass" style="cursor:pointer;">
                    <div class="rounded p-4">
                        <div class="icon mb-3">
                            <img src="~/Content/imgs/icon/korea.png">
                        </div>
                        <h6>韓式</h6>

                    </div>
                </a>
            </div>

            <div class="col-lg-3 col-sm-6 wow fadeInUp" data-wow-delay="0.1s">
                <a class="cat-item d-block bg-light text-center rounded p-3" id="americanClass" style="cursor:pointer;">
                    <div class="rounded p-4">
                        <div class="icon mb-3">
                            <img src="~/Content/imgs/icon/hamber.png">
                        </div>
                        <h6>美式</h6>

                    </div>
                </a>
            </div>

            <div class="col-lg-3 col-sm-6 wow fadeInUp" data-wow-delay="0.7s">
                <a class="cat-item d-block bg-light text-center rounded p-3" id="brunchClass" style="cursor:pointer;">
                    <div class="rounded p-4">
                        <div class="icon mb-3">
                            <img class="img-fluid" src="~/Content/imgs/icon/brounch.jpg" alt="Icon">
                        </div>
                        <h6>早午餐</h6>

                    </div>
                </a>
            </div>

            <div class="col-lg-3 col-sm-6 wow fadeInUp" data-wow-delay="0.3s">
                <a class="cat-item d-block bg-light text-center rounded p-3" id="hotpotClass" style="cursor:pointer;">
                    <div class="rounded p-4">
                        <div class="icon mb-3">
                            <img class="img-fluid" src="~/Content/imgs/icon/hotpot.jpg" alt="Icon">
                        </div>
                        <h6>鍋物</h6>

                    </div>
                </a>
            </div>

            <div class="col-lg-3 col-sm-6 wow fadeInUp" data-wow-delay="0.3s">
                <a class="cat-item d-block bg-light text-center rounded p-3" id="fryClass" style="cursor:pointer;">
                    <div class="rounded p-4">
                        <div class="icon mb-3">
                            <img class="img-fluid" src="~/Content/imgs/icon/0915.jpg" alt="Icon">
                        </div>
                        <h6>炸物</h6>

                    </div>
                </a>
            </div>

            <div class="col-lg-3 col-sm-6 wow fadeInUp" data-wow-delay="0.3s">
                <a class="cat-item d-block bg-light text-center rounded p-3" id="coffeeClass" style="cursor:pointer;">
                    <div class="rounded p-4">
                        <div class="icon mb-3">
                            <img class="img-fluid" src="~/Content/imgs/icon/1661828842659-removebg-preview.png" alt="Icon">
                        </div>
                        <h6>咖啡</h6>

                    </div>
                </a>
            </div>

            <div class="col-lg-3 col-sm-6 wow fadeInUp" data-wow-delay="0.5s">
                <a class="cat-item d-block bg-light text-center rounded p-3" id="drinkClass" style="cursor:pointer;">
                    <div class="rounded p-4">
                        <div class="icon mb-3">
                            <img class="img-fluid" src="~/Content/imgs/icon/drink.png" alt="Icon">
                        </div>
                        <h6>飲料</h6>

                    </div>
                </a>
            </div>

            <div class="col-lg-3 col-sm-6 wow fadeInUp" data-wow-delay="0.7s">
                <a class="cat-item d-block bg-light text-center rounded p-3" id="cakeClass" style="cursor:pointer;">
                    <div class="rounded p-4">
                        <div class="icon mb-3">
                            <img class="img-fluid" src="~/Content/imgs/icon/cake.png" alt="Icon">
                        </div>
                        <h6>甜點</h6>

                    </div>
                </a>
            </div>
        </div>
    </div>
</div>
@section scripts{
    <script>

        document.getElementById('btnsearch').addEventListener('click', fnSearch);

        document.getElementById('taiwanClass').addEventListener('click', taiwanClass);
        document.getElementById('hongkongClass').addEventListener('click', hongkongClass);
        document.getElementById('westClass').addEventListener('click', westClass);
        document.getElementById('japanClass').addEventListener('click', japanClass);
        document.getElementById('koreaClass').addEventListener('click', koreaClass);
        document.getElementById('americanClass').addEventListener('click', americanClass);
        document.getElementById('brunchClass').addEventListener('click', brunchClass);
        document.getElementById('hotpotClass').addEventListener('click', hotpotClass);
        document.getElementById('fryClass').addEventListener('click', fryClass);
        document.getElementById('coffeeClass').addEventListener('click', coffeeClass);
        document.getElementById('drinkClass').addEventListener('click', drinkClass);
        document.getElementById('cakeClass').addEventListener('click', cakeClass);
        //-----------------------------------------------------------------------------------------------------------------------------------???
        function transData(data) {
            console.log(data);
            console.log(JSON.stringify(data));
            console.log(typeof JSON.stringify(data));
            //以下寫法有確實傳值到後端，後端接收名稱與{}內一樣，且為字符串
            $.ajax({
                url: '@Url.Content("~/Search/SearchStore")',
                method: 'Post',
                dataType: 'json',
                //contentType: 'application/json;charset=UTF-8',
                data: { jdata: JSON.stringify(data)},
                success: function (datas) {
                    if (datas.ErrMsg) {
                        alert(datas.ErrMsg);
                        return;
                    }
                    alert(datas.ResultMsg);
                },
                error: function (err) {
                    alert(err.responseText + ',' + err.status);
                }
            });
        }
        //-----------------------------------------------------------------------------------------------------------------------------------fnSearch
        function fnSearch() {
            // e.preventDefault();
            // let search = document.getElementById('btnsearch');

            localStorage.clear();

            fetch(('http://localhost:44368/api/StoreSearch'), {
                method: 'POST',
                headers: {
                    'Accept': 'application/json; charset=utf-8',
                    'Content-Type': 'application/json; charset=utf-8'
                },
                body: JSON.stringify(
                    {
                        "fname": document.getElementById('fname').value,
                        "fclass": document.getElementById('fclass').value,
                        "fcity": document.getElementById('fcity').value,
                        "fdate": document.getElementById('fdate').value,
                        "ftime": document.getElementById('ftime').value,
                    }
                )
            }).then(function (response) {
                return response.json();
            }).then(function (body) {
                console.log(body);
                // !##%
                for (let i = 0; i < body.length; i++) {
                    localStorage.setItem(`${i}`, JSON.stringify(`${body[i].StoreID}!##%${body[i].Store_Name}!##%${body[i].Store_Class}!##%${body[i].Picture}!##%${body[i].Address_Area}!##%${body[i].Address_Detail}!##%${body[i].StarRating}!##%${body[i].ContentCount}!##%${body[i].Punch_Time}!##%${body[i].Phone}!##%${body[i].Introduce}!##%` ));
                }

            }).then(function () {
                window.location.assign("http://localhost:44368/Search/SearchStore");

            })
        }

        //-----------------------------------------------------------------------------------------------------------------------------------類別帶頁Class
        function taiwanClass() {

            localStorage.clear();

            fetch(('http://localhost:44368/api/truck?fclass=台式'), {
            }).then(function (response) {
                return response.json();
            }).then(function (body) {
                // !##%
                /*console.log(body);*/
                for (let i = 0; i < body.length; i++) {
                    localStorage.setItem(`${i}`, JSON.stringify(`${body[i].StoreID}!##%${body[i].Store_Name}!##%${body[i].Store_Class}!##%${body[i].Picture}!##%${body[i].Address_Area}!##%${body[i].Address_Detail}!##%${body[i].StarRating}!##%${body[i].ContentCount}!##%${body[i].Punch_Time}!##%${body[i].Phone}!##%${body[i].Introduce}!##%${body[i].Address_City}!##%`));
                }
            }).then(function () {
                window.location.assign("/Store/Area");
            })
        }

        function hongkongClass() {

            localStorage.clear();

            fetch(('http://localhost:44368/api/truck?fclass=港式'), {
            }).then(function (response) {
                return response.json();
            }).then(function (body) {
                // !##%
                for (let i = 0; i < body.length; i++) {
                    localStorage.setItem(`${i}`, JSON.stringify(`${body[i].StoreID}!##%${body[i].Store_Name}!##%${body[i].Store_Class}!##%${body[i].Picture}!##%${body[i].Address_Area}!##%${body[i].Address_Detail}!##%${body[i].StarRating}!##%${body[i].ContentCount}!##%${body[i].Punch_Time}!##%${body[i].Phone}!##%${body[i].Introduce}!##%${body[i].Address_City}!##%`));
                }
            }).then(function () {
                window.location.assign("/Store/Area");
            })
        }

        function westClass() {

            localStorage.clear();

            fetch(('http://localhost:44368/api/truck?fclass=西式'), {
            }).then(function (response) {
                return response.json();
            }).then(function (body) {
                // !##%
                for (let i = 0; i < body.length; i++) {
                    localStorage.setItem(`${i}`, JSON.stringify(`${body[i].StoreID}!##%${body[i].Store_Name}!##%${body[i].Store_Class}!##%${body[i].Picture}!##%${body[i].Address_Area}!##%${body[i].Address_Detail}!##%${body[i].StarRating}!##%${body[i].ContentCount}!##%${body[i].Punch_Time}!##%${body[i].Phone}!##%${body[i].Introduce}!##%${body[i].Address_City}!##%`));
                }
            }).then(function () {
                window.location.assign("/Store/Area");
            })
        }

        function japanClass() {

            localStorage.clear();

            fetch(('http://localhost:44368/api/truck?fclass=日式'), {
            }).then(function (response) {
                return response.json();
            }).then(function (body) {
                // !##%
                for (let i = 0; i < body.length; i++) {
                    localStorage.setItem(`${i}`, JSON.stringify(`${body[i].StoreID}!##%${body[i].Store_Name}!##%${body[i].Store_Class}!##%${body[i].Picture}!##%${body[i].Address_Area}!##%${body[i].Address_Detail}!##%${body[i].StarRating}!##%${body[i].ContentCount}!##%${body[i].Punch_Time}!##%${body[i].Phone}!##%${body[i].Introduce}!##%${body[i].Address_City}!##%`));
                }
            }).then(function () {
                window.location.assign("/Store/Area");
            })
        }

        function koreaClass() {

            localStorage.clear();

            fetch(('http://localhost:44368/api/truck?fclass=韓式'), {
            }).then(function (response) {
                return response.json();
            }).then(function (body) {
                // !##%
                for (let i = 0; i < body.length; i++) {
                    localStorage.setItem(`${i}`, JSON.stringify(`${body[i].StoreID}!##%${body[i].Store_Name}!##%${body[i].Store_Class}!##%${body[i].Picture}!##%${body[i].Address_Area}!##%${body[i].Address_Detail}!##%${body[i].StarRating}!##%${body[i].ContentCount}!##%${body[i].Punch_Time}!##%${body[i].Phone}!##%${body[i].Introduce}!##%${body[i].Address_City}!##%`));
                }
            }).then(function () {
                window.location.assign("/Store/Area");
            })
        }

        function americanClass() {

            localStorage.clear();

            fetch(('http://localhost:44368/api/truck?fclass=美式'), {
            }).then(function (response) {
                return response.json();
            }).then(function (body) {
                // !##%
                for (let i = 0; i < body.length; i++) {
                    localStorage.setItem(`${i}`, JSON.stringify(`${body[i].StoreID}!##%${body[i].Store_Name}!##%${body[i].Store_Class}!##%${body[i].Picture}!##%${body[i].Address_Area}!##%${body[i].Address_Detail}!##%${body[i].StarRating}!##%${body[i].ContentCount}!##%${body[i].Punch_Time}!##%${body[i].Phone}!##%${body[i].Introduce}!##%${body[i].Address_City}!##%`));
                }
            }).then(function () {
                window.location.assign("/Store/Area");
            })
        }

        function brunchClass() {

            localStorage.clear();

            fetch(('http://localhost:44368/api/truck?fclass=早午餐'), {
            }).then(function (response) {
                return response.json();
            }).then(function (body) {
                // !##%
                for (let i = 0; i < body.length; i++) {
                    localStorage.setItem(`${i}`, JSON.stringify(`${body[i].StoreID}!##%${body[i].Store_Name}!##%${body[i].Store_Class}!##%${body[i].Picture}!##%${body[i].Address_Area}!##%${body[i].Address_Detail}!##%${body[i].StarRating}!##%${body[i].ContentCount}!##%${body[i].Punch_Time}!##%${body[i].Phone}!##%${body[i].Introduce}!##%${body[i].Address_City}!##%`));
                }
            }).then(function () {
                window.location.assign("/Store/Area");
            })
        }

        function hotpotClass() {

            localStorage.clear();

            fetch(('http://localhost:44368/api/truck?fclass=鍋物'), {
            }).then(function (response) {
                return response.json();
            }).then(function (body) {
                // !##%
                for (let i = 0; i < body.length; i++) {
                    localStorage.setItem(`${i}`, JSON.stringify(`${body[i].StoreID}!##%${body[i].Store_Name}!##%${body[i].Store_Class}!##%${body[i].Picture}!##%${body[i].Address_Area}!##%${body[i].Address_Detail}!##%${body[i].StarRating}!##%${body[i].ContentCount}!##%${body[i].Punch_Time}!##%${body[i].Phone}!##%${body[i].Introduce}!##%${body[i].Address_City}!##%`));
                }
            }).then(function () {
                window.location.assign("/Store/Area");
            })
        }

        function fryClass() {

            localStorage.clear();

            fetch(('http://localhost:44368/api/truck?fclass=炸物'), {
            }).then(function (response) {
                return response.json();
            }).then(function (body) {
                // !##%
                for (let i = 0; i < body.length; i++) {
                    localStorage.setItem(`${i}`, JSON.stringify(`${body[i].StoreID}!##%${body[i].Store_Name}!##%${body[i].Store_Class}!##%${body[i].Picture}!##%${body[i].Address_Area}!##%${body[i].Address_Detail}!##%${body[i].StarRating}!##%${body[i].ContentCount}!##%${body[i].Punch_Time}!##%${body[i].Phone}!##%${body[i].Introduce}!##%${body[i].Address_City}!##%`));
                }
            }).then(function () {
                window.location.assign("/Store/Area");
            })
        }

        function coffeeClass() {

            localStorage.clear();

            fetch(('http://localhost:44368/api/truck?fclass=咖啡'), {
            }).then(function (response) {
                return response.json();
            }).then(function (body) {
                // !##%
                for (let i = 0; i < body.length; i++) {
                    localStorage.setItem(`${i}`, JSON.stringify(`${body[i].StoreID}!##%${body[i].Store_Name}!##%${body[i].Store_Class}!##%${body[i].Picture}!##%${body[i].Address_Area}!##%${body[i].Address_Detail}!##%${body[i].StarRating}!##%${body[i].ContentCount}!##%${body[i].Punch_Time}!##%${body[i].Phone}!##%${body[i].Introduce}!##%${body[i].Address_City}!##%`));
                }
            }).then(function () {
                window.location.assign("/Store/Area");
            })
        }

        function drinkClass() {

            localStorage.clear();

            fetch(('http://localhost:44368/api/truck?fclass=飲料'), {
            }).then(function (response) {
                return response.json();
            }).then(function (body) {
                // !##%
                for (let i = 0; i < body.length; i++) {
                    localStorage.setItem(`${i}`, JSON.stringify(`${body[i].StoreID}!##%${body[i].Store_Name}!##%${body[i].Store_Class}!##%${body[i].Picture}!##%${body[i].Address_Area}!##%${body[i].Address_Detail}!##%${body[i].StarRating}!##%${body[i].ContentCount}!##%${body[i].Punch_Time}!##%${body[i].Phone}!##%${body[i].Introduce}!##%${body[i].Address_City}!##%`));
                }
            }).then(function () {
                window.location.assign("/Store/Area");
            })
        }

        function cakeClass() {

            localStorage.clear();

            fetch(('http://localhost:44368/api/truck?fclass=甜點'), {
            }).then(function (response) {
                return response.json();
            }).then(function (body) {
                // !##%
                for (let i = 0; i < body.length; i++) {
                    localStorage.setItem(`${i}`, JSON.stringify(`${body[i].StoreID}!##%${body[i].Store_Name}!##%${body[i].Store_Class}!##%${body[i].Picture}!##%${body[i].Address_Area}!##%${body[i].Address_Detail}!##%${body[i].StarRating}!##%${body[i].ContentCount}!##%${body[i].Punch_Time}!##%${body[i].Phone}!##%${body[i].Introduce}!##%${body[i].Address_City}!##%`));
                }
            }).then(function () {
                window.location.assign("/Store/Area");
            })
        }

        //-----------------------------------------------------------------------------------------------------------------------------------AddLove
        function AddLove(storeid) {
            var apiurl = "http://localhost:44368/api/CustomerFavorite";            
            if(@test != 0) {
                    var yes = confirm('要加入我的最愛嗎？');
                    if (yes) {
                        fetch(apiurl, {
                            headers: {
                                'Accept': 'application/json; charset=utf-8',
                                'Content-Type': 'application/json; charset=utf-8'
                            },
                            method: 'POST',
                            body: JSON.stringify(
                                {
                                    cid: @test,
                                    sid: storeid,
                                }
                            )
                        }).then(function (response) {
                            return response.json();
                        }).then((data) => {
                            /*console.log(data)*/ // 1 成功 0 失敗
                            if (data == 1) {
                                Swal.fire({
                                    icon: 'success',
                                    title: '加入成功!',
                                    text: '已將此筆餐車新增至我的最愛'
                                })
                                reloadLove();
                            } else {
                                Swal.fire({
                                    icon: 'info',
                                    title: '已經加入過囉!',
                                    text: '請至我的最愛查看~'
                                })
                            }
                        })

                    }
                    else {
                        /*alert("謝謝支持")*/
                }
            } else {
                Swal.fire({
                    icon: 'question',
                    title: '是不是還沒登入?'
                })
            }
        }


        //-----------------------------------------------------------------------------------------------------------------------------------window.onload

        window.onload = function () {
                let title = document.querySelector("#title");
                if (title.innerHTML == "北部精選") {
                    getDataNorthMore();
                }
                else if (title.innerHTML == "中部精選") {
                    getDataCentralMore();
                }
                else if (title.innerHTML == "南部精選") {
                    getDataSouthMore();
                }
                else {
                    //------------------------------------要改成預設北部?? 目前跑全部新店------------------------------------
                    fetch("http://localhost:44368/api/truck").then(function (response) {
                        return response.json();
                    }).then(function (data) {
                        let result = document.querySelector("#result");
                        for (let i = 0; i < data.length; i++) {
                            let store = data[i];
                            console.log(store)
                            result.innerHTML += `<div class="col-lg-4 col-md-6 wow fadeInUp" data-wow-delay="0.1s">
                                <div class="property-item rounded overflow-hidden">
                                    <div class="position-relative overflow-hidden">
                                        <a href="/Store/ShowStore?id=${store.StoreID}"><img class="img-fluid" src="${store.Picture}" alt="" style="width:410px;height:270px;"></a>
                                        <div class="bg-primary rounded text-white position-absolute start-0 top-0 m-4 py-1 px-3">${store.Address_City}</div>
                                        <div class="bg-secondary rounded text-white position-absolute top-0 m-4 py-1 px-3" style="left:70%">${store.StarRating}<i class="fas fa-star fa-1x text-white"></i></div>
                                        <div class="round ed-top position-absolute start-0 bottom-0 mx-4 pt-1 px-3" style="background-color:coral; border-radius:15px; color:#FFF;">${store.Store_Class}</div>
                                    </div>
                                    <div class="p-4 pb-0">
                                        <a class="d-block h5 mb-2" href="/Store/ShowStore?id=${store.StoreID}">${store.Store_Name}</a>
                                        <p><img src="/Content/imgs/icon/locationmark.png" style="margin-right:6px; margin-bottom:4px;">${store.Address_Detail}</p>
                                    </div>
                                    <div class="d-flex border-top">
                                        <small class="flex-fill text-center border-end py-2" style="cursor:pointer;" onclick="AddLove(${store.StoreID})"><img src="/Content/imgs/icon/heart.png" style="margin-right:10px; margin-bottom:4px;">加入我的最愛</small>                                        
                                    </div>
                                </div>
                            </div>`
                        }
                    })
                }

        }

        //-----------------------------------------------------------------------------------------------------------------------------------getDataNorth

        function getDataNorth() {
            let title = document.querySelector("#title");
            title.innerHTML = "北部精選";

            result.innerHTML = "";
            let wet = "http://localhost:44368/api/truck?farea=北部";
            fetch(wet).then(function (response) {
                return response.json();
            }).then(function (data) {

                let result = document.querySelector("#result");
                for (let i = 0; i < data.length; i++) {
                    let store = data[i];
                    console.log(store)

                    result.innerHTML += `<div class="col-lg-4 col-md-6 wow fadeInUp" data-wow-delay="0.1s">
                                <div class="property-item rounded overflow-hidden">
                                    <div class="position-relative overflow-hidden">
                                        <a href="/Store/ShowStore?id=${store.StoreID}"><img class="img-fluid" src="${store.Picture}" alt="" style="width:410px;height:270px;"></a>
                                        <div class="bg-primary rounded text-white position-absolute start-0 top-0 m-4 py-1 px-3">${store.Address_City}</div>
                                        <div class="bg-secondary rounded text-white position-absolute top-0 m-4 py-1 px-3" style="left:70%">${store.StarRating}<i class="fas fa-star fa-1x text-white"></i></div>
                                        <div class="round ed-top position-absolute start-0 bottom-0 mx-4 pt-1 px-3" style="background-color:coral; border-radius:15px; color:#FFF;">${store.Store_Class}</div>
                                    </div>
                                    <div class="p-4 pb-0">
                                        <a class="d-block h5 mb-2" href="/Store/ShowStore?id=${store.StoreID}">${store.Store_Name}</a>
                                        <p><img src="/Content/imgs/icon/locationmark.png" style="margin-right:6px; margin-bottom:4px;">${store.Address_Detail}</p>
                                    </div>
                                    <div class="d-flex border-top">
                                        <small class="flex-fill text-center border-end py-2" style="cursor:pointer;" onclick="AddLove(${store.StoreID})"><img src="/Content/imgs/icon/heart.png" style="margin-right:10px; margin-bottom:4px;">加入我的最愛</small>                                        
                                    </div>
                                </div>
                            </div>`
                }
            })
        }
        //-----------------------------------------------------------------------------------------------------------------------------------getDataNorthMore
        function getDataNorthMore() {
            let title = document.querySelector("#title");
            title.innerHTML = "北部精選";

            fetch("http://localhost:44368/api/truck?farea=北部").then(function (response) {
                return response.json();
            }).then(function (data) {

                let result = document.querySelector("#result");
                for (let i = 0; i < data.length; i++) {
                    let store = data[i];
                    console.log(store)

                    result.innerHTML += `<div class="col-lg-4 col-md-6 wow fadeInUp" data-wow-delay="0.1s">
                                <div class="property-item rounded overflow-hidden">
                                    <div class="position-relative overflow-hidden">
                                        <a href="/Store/ShowStore?id=${store.StoreID}"><img class="img-fluid" src="${store.Picture}" alt="" style="width:410px;height:270px;"></a>
                                        <div class="bg-primary rounded text-white position-absolute start-0 top-0 m-4 py-1 px-3">${store.Address_City}</div>
                                        <div class="bg-secondary rounded text-white position-absolute top-0 m-4 py-1 px-3" style="left:70%">${store.StarRating}<i class="fas fa-star fa-1x text-white"></i></div>
                                        <div class="round ed-top position-absolute start-0 bottom-0 mx-4 pt-1 px-3" style="background-color:coral; border-radius:15px; color:#FFF;">${store.Store_Class}</div>
                                    </div>
                                    <div class="p-4 pb-0">
                                        <a class="d-block h5 mb-2" href="/Store/ShowStore?id=${store.StoreID}">${store.Store_Name}</a>
                                        <p><img src="/Content/imgs/icon/locationmark.png" style="margin-right:6px; margin-bottom:4px;">${store.Address_Detail}</p>
                                    </div>
                                    <div class="d-flex border-top">
                                        <small class="flex-fill text-center border-end py-2" style="cursor:pointer;" onclick="AddLove(${store.StoreID})"><img src="/Content/imgs/icon/heart.png" style="margin-right:10px; margin-bottom:4px;">加入我的最愛</small>                                        
                                    </div>
                                </div>
                            </div>`
                }
            })
        }
        //-----------------------------------------------------------------------------------------------------------------------------------getDataCentral
        function getDataCentral() {
            let title = document.querySelector("#title");
            title.innerHTML = "中部精選";

            result.innerHTML = "";
            fetch("http://localhost:44368/api/truck?farea=中部").then(function (response) {
                return response.json();
            }).then(function (data) {
                let result = document.querySelector("#result");
                for (let i = 0; i < data.length; i++) {
                    let store = data[i];
                    console.log(store)

                    result.innerHTML += `<div class="col-lg-4 col-md-6 wow fadeInUp" data-wow-delay="0.1s">
                                <div class="property-item rounded overflow-hidden">
                                    <div class="position-relative overflow-hidden">
                                        <a href="/Store/ShowStore?id=${store.StoreID}"><img class="img-fluid" src="${store.Picture}" alt="" style="width:410px;height:270px;"></a>
                                        <div class="bg-primary rounded text-white position-absolute start-0 top-0 m-4 py-1 px-3">${store.Address_City}</div>
                                        <div class="bg-secondary rounded text-white position-absolute top-0 m-4 py-1 px-3" style="left:70%">${store.StarRating}<i class="fas fa-star fa-1x text-white"></i></div>
                                        <div class="round ed-top position-absolute start-0 bottom-0 mx-4 pt-1 px-3" style="background-color:coral; border-radius:15px; color:#FFF;">${store.Store_Class}</div>
                                    </div>
                                    <div class="p-4 pb-0">
                                        <a class="d-block h5 mb-2" href="/Store/ShowStore?id=${store.StoreID}">${store.Store_Name}</a>
                                        <p><img src="/Content/imgs/icon/locationmark.png" style="margin-right:6px; margin-bottom:4px;">${store.Address_Detail}</p>
                                    </div>
                                    <div class="d-flex border-top">
                                        <small class="flex-fill text-center border-end py-2" style="cursor:pointer;" onclick="AddLove(${store.StoreID})"><img src="/Content/imgs/icon/heart.png" style="margin-right:10px; margin-bottom:4px;">加入我的最愛</small>                                        
                                    </div>
                                </div>
                            </div>`
                }
            })
        }
        //-----------------------------------------------------------------------------------------------------------------------------------getDataCentralMore
        function getDataCentralMore() {
            let title = document.querySelector("#title");
            title.innerHTML = "中部精選";

            fetch("http://localhost:44368/api/truck?farea=中部").then(function (response) {
                return response.json();
            }).then(function (data) {
                let result = document.querySelector("#result");
                for (let i = 0; i < data.length; i++) {
                    let store = data[i];
                    console.log(store)

                    result.innerHTML += `<div class="col-lg-4 col-md-6 wow fadeInUp" data-wow-delay="0.1s">
                                <div class="property-item rounded overflow-hidden">
                                    <div class="position-relative overflow-hidden">
                                        <a href="/Store/ShowStore?id=${store.StoreID}"><img class="img-fluid" src="${store.Picture}" alt="" style="width:410px;height:270px;"></a>
                                        <div class="bg-primary rounded text-white position-absolute start-0 top-0 m-4 py-1 px-3">${store.Address_City}</div>
                                        <div class="bg-secondary rounded text-white position-absolute top-0 m-4 py-1 px-3" style="left:70%">${store.StarRating}<i class="fas fa-star fa-1x text-white"></i></div>
                                        <div class="round ed-top position-absolute start-0 bottom-0 mx-4 pt-1 px-3" style="background-color:coral; border-radius:15px; color:#FFF;">${store.Store_Class}</div>
                                    </div>
                                    <div class="p-4 pb-0">
                                        <a class="d-block h5 mb-2" href="/Store/ShowStore?id=${store.StoreID}">${store.Store_Name}</a>
                                        <p><img src="/Content/imgs/icon/locationmark.png" style="margin-right:6px; margin-bottom:4px;">${store.Address_Detail}</p>
                                    </div>
                                    <div class="d-flex border-top">
                                        <small class="flex-fill text-center border-end py-2" style="cursor:pointer;" onclick="AddLove(${store.StoreID})"><img src="/Content/imgs/icon/heart.png" style="margin-right:10px; margin-bottom:4px;">加入我的最愛</small>                                        
                                    </div>
                                </div>
                            </div>`
                }
            })
        }
        //-----------------------------------------------------------------------------------------------------------------------------------getDataSouth
        function getDataSouth() {
            let title = document.querySelector("#title");
            title.innerHTML = "南部精選";

            result.innerHTML = "";
            fetch("http://localhost:44368/api/truck?farea=南部").then(function (response) {
                return response.json();
            }).then(function (data) {
                let result = document.querySelector("#result");
                for (let i = 0; i < data.length; i++) {
                    let store = data[i];
                    console.log(store)

                    result.innerHTML += `<div class="col-lg-4 col-md-6 wow fadeInUp" data-wow-delay="0.1s">
                                <div class="property-item rounded overflow-hidden">
                                    <div class="position-relative overflow-hidden">
                                        <a href="/Store/ShowStore?id=${store.StoreID}"><img class="img-fluid" src="${store.Picture}" alt="" style="width:410px;height:270px;"></a>
                                        <div class="bg-primary rounded text-white position-absolute start-0 top-0 m-4 py-1 px-3">${store.Address_City}</div>
                                        <div class="bg-secondary rounded text-white position-absolute top-0 m-4 py-1 px-3" style="left:70%">${store.StarRating}<i class="fas fa-star fa-1x text-white"></i></div>
                                        <div class="round ed-top position-absolute start-0 bottom-0 mx-4 pt-1 px-3" style="background-color:coral; border-radius:15px; color:#FFF;">${store.Store_Class}</div>
                                    </div>
                                    <div class="p-4 pb-0">
                                        <a class="d-block h5 mb-2" href="/Store/ShowStore?id=${store.StoreID}">${store.Store_Name}</a>
                                        <p><img src="/Content/imgs/icon/locationmark.png" style="margin-right:6px; margin-bottom:4px;">${store.Address_Detail}</p>
                                    </div>
                                    <div class="d-flex border-top">
                                        <small class="flex-fill text-center border-end py-2" style="cursor:pointer;" onclick="AddLove(${store.StoreID})"><img src="/Content/imgs/icon/heart.png" style="margin-right:10px; margin-bottom:4px;">加入我的最愛</small>                                        
                                    </div>
                                </div>
                            </div>`
                }
            })
        }
        //-----------------------------------------------------------------------------------------------------------------------------------getDataSouthMore
        function getDataSouthMore() {
            let title = document.querySelector("#title");
            title.innerHTML = "南部精選";

            fetch("http://localhost:44368/api/truck?farea=南部").then(function (response) {
                return response.json();
            }).then(function (data) {
                let result = document.querySelector("#result");
                for (let i = 0; i < data.length; i++) {
                    let store = data[i];
                    console.log(store)

                    result.innerHTML += `<div class="col-lg-4 col-md-6 wow fadeInUp" data-wow-delay="0.1s">
                                <div class="property-item rounded overflow-hidden">
                                    <div class="position-relative overflow-hidden">
                                        <a href="/Store/ShowStore?id=${store.StoreID}"><img class="img-fluid" src="${store.Picture}" alt="" style="width:410px;height:270px;"></a>
                                        <div class="bg-primary rounded text-white position-absolute start-0 top-0 m-4 py-1 px-3">${store.Address_City}</div>
                                        <div class="bg-secondary rounded text-white position-absolute top-0 m-4 py-1 px-3" style="left:70%">${store.StarRating}<i class="fas fa-star fa-1x text-white"></i></div>
                                        <div class="round ed-top position-absolute start-0 bottom-0 mx-4 pt-1 px-3" style="background-color:coral; border-radius:15px; color:#FFF;">${store.Store_Class}</div>
                                    </div>
                                    <div class="p-4 pb-0">
                                        <a class="d-block h5 mb-2" href="/Store/ShowStore?id=${store.StoreID}">${store.Store_Name}</a>
                                        <p><img src="/Content/imgs/icon/locationmark.png" style="margin-right:6px; margin-bottom:4px;">${store.Address_Detail}</p>
                                    </div>
                                    <div class="d-flex border-top">
                                        <small class="flex-fill text-center border-end py-2" style="cursor:pointer;" onclick="AddLove(${store.StoreID})"><img src="/Content/imgs/icon/heart.png" style="margin-right:10px; margin-bottom:4px;">加入我的最愛</small>                                        
                                    </div>
                                </div>
                            </div>`
                }
            })
        }
    </script>


}

<!-- Category End -->